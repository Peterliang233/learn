### 前言： linux是开源的一个操作系统，linux时由unix演化而来的，linux是全球软件爱好者共同维护的，下面分了几个不同的发行版，比如:centos,ubuntu



### 基本知识

+ linux的目录结构是一个树状的目录结构，在此结构的最上面是根目录 / 
+ /boot存放的时启动linux时使用的一些核心文件，包括一些连接文件以及镜像
+ /proc是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息
+ /srv 是service的缩写，该目录存放一些服务启动之后需要提取的数据
+ /tmp是临时目录
+ /dev 类似于设备管理器，把所有的硬件以文件的形式进行存放
+ /media目录是linux系统自动识别的一些设备，例如：U盘，光驱等等
+ /mnt是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上
+ 在企业的开发过程中，一般是需要进行远程登录服务器进行开发，同时学会将自己本机的文件上传到服务器里面。这两个都有相对应的软件。

### 快捷键的基本使用

+ 拷贝当前行要将光标移到所在行，然后正常模式下用yy，粘贴用p

+ 删除当前行dd，删除当前行下面的n行在正常模式下输入 n dd

+ 在文件中查找某一个关键词，在命令行模式下面输入 /所查询的字符串

+ 显示行号：在命令行模式下面输入set nu

+ 移到当前文件的开头 正常模式下面输入两个gg，移到文件末尾的话正常模式下面输入G

+ 撤销命令 在正常模式下面输入 u

+ 将光标移到某一个固定的行，命令行模式下面先显示行号，使用set nu，然后输入想要到达的行号，最后按shift +g

  

### 开机，关机，重启和用户登录注销

+ shutdown 
  - shutdown -h now 立马关机
  - shutdown -h 1 一分钟之后关机
  - shutdown -r now 立即重启

+ halt  等价于关机
+ reboot 就是重启系统
+ syn 就是把内存的数据写入磁盘中
+ 用户的注销 logout

### 用户管理

linux的用户文件都在home目录下面。linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先想系统管理员申请一个帐号，然后用这个帐号的身份进行登录

#### 添加用户

+ useradd + 用户名 执行此命令会创建一个用户和创建一个同名的用户组
+ useradd -d + 文件路径（此路径作为该用户的家目录）+ 用户名
+ passwd + 用户名 修改用户的密码，但是必须要有对应的权限

#### 删除用户

+ 删除有仅仅删除用户名 userdel + 用户名

+ 删除用户名和用户的家目录   userdel -r + 用户名

#### 查询root 信息

+ id + 用户名

#### 切换用户名

+ su + 用户名 权限低到权限高的需要输入对应的密码，反之则不需要输入密码
+ 回退原先的用户

#### 用户和组的相关信息

+ etc/passwd   存放用户的配置文件，记录用户的各种信息
+ etc/shadow 口令配置文件，每行的含义： 登录名：加密口令，最后一次修改的时间，最小时间间隔，最大时间间隔 标志
+ etc/group  存储的是组的信息

### linux实用指令

#### ls指令

+ ls -a显示文件爱呢的所有目录和文件，包括隐藏的
+ ls -l 以列表的形式显示信息

#### cd 指令

+ cd ~ 返回当前的家目录
+ cd .. 返回上一级目录

#### 创建目录

+ mkdir + 目录名 创建单级目录
+ mkdir -p +目录名 创建多级目录

#### 删除目录

+ rmdir + 目录名
+ 强制删除目录 rmdir -rf + 目录名
+ 创建文件 touch + 文件名 可以一次性创建多个文件

#### 拷贝文件指令

+ cp source dst 将source的文件拷贝到dst目录下面

+ 将目录下面的所有目录文件拷贝到指定目录下面 使用cp -r 待拷贝的目录/. 目的地目录
+ 发现目标目录下面提示是否覆盖的时候，在cp前面加上\即可强制覆盖

#### 移除文件或者目录

+ rm + 文件
+ rm -f +文件
+ rm -rf + 目录

#### 移动文件或者重命名文件

+ mv old文件名 new文件名
+ mv old路径 new路径

#### 查看文件

+ cat + 文件名
+ cat -n +文件名   显示行号
+ cat -n + 文件名 | more 管道，使得我们查看的时候具有分页功能
+ more + 文件名   基于vi编辑器将文件以按页的格式进行查看
+ 快捷键
  + enter：一行一行看
  + 空格 ： 一页一页看
  + ctr + b： 返回上一页
  + ctr + f： 进入下一页

+ less + 文件名 ：这一命令是一部分一部分加载，适合大型文件的查看，如日志之类的，快捷键：enter和空格

#### 命令行写入文件

+ $>$是一个重定向的一个指令，表示覆盖当前文件里面的内容
+ $>>$是一个追加的指令，表示的是在当前文件后面追加内容
+ ls -l > 文件名
+ cat 文件名 > 被写入的文件名
+ echo "一些内容" > 文件名  将echo后面的内容写入到文件里面

#### echo 指令

+ echo可以输出指定的内容，比如：echo "hello World"
+ echo $path 输出当前路径的环境变量

#### head 指令

+ head + 文件名  输出文件的10行
+ head -n num 文件名     查看文件前num行的内容

#### tail 指令

+ tail + 文件名   输出文件的最后十行

+ tail -n  num 文件名     输出文件最后num行的内容
+ tail -f  文件名    输出文件的更新情况，适合日志的查看，工作中很常见

#### ln 指令

+ ln -s 原文件的路径  软链接名字
+ 删除软链接资源的时候文件结尾不要加/

#### history 指令

+ 查看历史使用过的所有的指令 : history
+ 查看历史最近的num条指令 : history  num
+ 指令历史上编号为num的指令:  !num

#### date 指令

+ data 显示当前的时间
+ data "+%Y-%m-%d"输出当前时间的年月日 2021-02-06
+ 系统时间设置：date -s 时间串字符

#### find指令

+ find 文件目录 -name（按文件名）文件名
+ find /home -name hello.txt 
+ find 文件目录 -user nobody  按文件拥有者进行查找
  + find /home -user root
+ find 文件目录 -size +文件大小 查找某一个目录下面的文件大于指定大小的文件
  + find / -size 20M
+ 按照通配符进行查找
  + find /home -name *.txt 查询当前目录下面的后缀为txt的文件

#### grep指令和管道符号 |

+ grep过滤查找，管道符，"|"，表示将前一个命令的处理结果输出传递到后面的命令处理。
+ grep [选项] 查找内容 源文件
+ -n 显示匹配及行号
+ -i 忽略字母的大小

#### 压缩和解压缩指令

+ gzip 压缩文件   gunzip解压缩
+ gzip 文件   将文件直接压缩成一个.gz结尾的压缩文件（压缩后不会保留原文件）
+ zip压缩文件  unzip 解压缩文件
+ zip 参数 压缩后的文件名 被压缩的目录
+ 参数-r指的是递归压缩
+ unzip 参数 解压到的路径 压缩包的名字 将文件解压到指定的文件路径下面
+ tar 打包指令
+ tar 参数 压缩包的名字
+ tar -zcvf  打包后的文件名 对那些文件进行打包
+ 参数
  + -c 产生.tar.gz文件的打包文件
  + -x 解压打包好的文件
+ tar -zxvf  要解压的包 解压到的文件路径

#### 一些其他的指令

+ 系统的运行级别 主要分为7个级别，文件的配置放在etc/inittab 文件里面
+ 加入在工作过程中忘记密码，我们可以通过进入单用户模式进行密码的修改，从而找回密码。在单用户模式我们不需要使用密码。
+ man + 命令 查看帮助文档
+ pwd指令 显示当前文件的绝对路径
+ cal指令  日历查询指令
+ 查看当前文件夹大小 ：du -h --max-depth=1 ./

### 组管理

#### 文件的归属      

+ 所有者，所有组，其他组

#### 目录的所有者

+ ls -ahl 查看目录的所有者

#### 添加组 groupadd 组名 创建一个新的组

#### 修改文件的拥有者 

+ 我们可以使用 chown 用户名 文件名 将文件转交给对应的用户

#### 修改文件的所在组

+ 我们可以用chgrp 组名 文件名 的格式进行修改文件的所在组。

#### 修改用户所在组

+ 在root用户下，我们可以使用 usermod -g 组名 用户名来修改用户的所在组。

#### 查看文件权限

+ `ls -l`

  这种是可以查看到文件的类型，文件的拥有者的权限，文件的所在组的用户的权限，文件其他组的权限

  ```linux
  drwxr-xr-x  2 peterliang peterliang  4096 12月 20 08:21  公共
  # 最开始的那个d表示的是文件的类型，-表示文件，d表示文件夹，1表示软连接，c表示字符文件，b表示硬盘，块文件
  
  后面就是每三个一组，rwx，如果没有的话就是用-表示
  # 第二个rwxr表示的是文件的拥有者的权限，r代表可读，w代表可写，w代表可执行
  # 第三个xr表示的是文件的所在组用户的权限
  # 第四个x表示文件的其他组用户的权限
  # 2 这个数字，如果是文件的话，那么就是1,如果是目录，表示的是目录的子目录的个数
  # 后面两个分别表示的是文件的拥有者和文件的拥有者所在组。
  # 4096,如果是目录的话，那么统一都是4096,如果是文件的话，那么表示的是文件的字节个数
  # 最后的时间表示的是文件最后的修改时间。
  ```

+ 修改文件权限chmod

  `chmod 设置权限 文件或者目录名` 

  + u表示用户本身，o表示其他用户，g表示用户所在组，a表示所有用户
  + chmod u=wrx,g=wrx,o=r test.txt 对于test.txt文件，我们将修改文件拥有者的的权限为wrx，文件拥有者所在组的权限为wrx,其他用户的权限为r

  `通过数字更改用户的权限`

  + w表示4,x表示的是2,r表示的是1,我们可以通过设置数字来设置文件拥有者，文件所在组的用户，其他用户的权限。
  + chmod 771 test.txt 表示的是拥有者的权限为7,所在组的权限也为7,其他组的权限为1,这样也是可以的

+ 改变文件的拥有者

  `chown 新拥有者 文件名` 

  + chown tom aaa.txt

  `加-R参数进行递归修改`

  + chown tom aaa/ 将aaa下面所有的文件的拥有者修改为tom

+ 修改文件的所在组

  `chgrp 新组 文件名`

  + chgrp shaoling aaa.txt

  `chgrp -R 参数`

  + chgrp shaoling aaa/