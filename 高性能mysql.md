# Mysql的架构和历史

+ mysql的架构是：客户端->连接/线程处理->查询缓存，解析器->优化器->存储引擎
+ 连接和处理这一层是大多数基于网络的客户端/服务器的工具都有的类似的架构，主要用于连接管理，授权认证和安全等等。
+ 第二层的架构是mysql的核心服务层，包括查询解析，分析，优化，缓存以及所有的内置函数，所有的跨存储引擎的功能都在这一层实现。
+ 对于存储引擎这个部分，负责mysql中的数据的存储和提取。
+ 并发控制问题，如果多个查询需要同时对某一条数据进行修改，那么就会产生并发控制的问题。
+ 读写锁，读写锁是为了防止操作之间的冲突导致的读取数据失败等。我们通过实现两种类型的锁，读锁和写锁。也叫做共享锁和排他锁。共享锁就是大家可以一起使用的，不会造成相互阻塞。多个客户在同时读取一个资源的时候不会互相干扰。写锁则是排他的，也就是一个写锁会造成其他的写锁和读锁阻塞。
+ 锁粒度，为了提升让锁定的对象更加具有选择性，不要每次切换锁的时候修改分配的资源，只修改的数据片进行精确的锁定。
  + 锁策略分为表锁和行级锁。写锁比读锁具有更高的优先级，锁队列里面写锁可以插入到读锁的前面。